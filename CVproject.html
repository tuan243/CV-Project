<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Hello Bulma!</title>
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.4/css/bulma.min.css">
<script defer
	src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
<style>
.is-centered {
	justify-content: center;
	align-items: center;
}

.is-vertical-center {
	display: grid;
	align-items: center;
	height: auto;
}
</style>
</head>
<body>
	<div class='columns'>
		<div class="column is-2">
		<div>Tải ảnh lên 1:</div>
		<div class="field">
			<div class="file is-small is-primary ">
				<label class="file-label"> <input id="uploadPostUpfile1"
					class="file-input fileupload" type="file" name="resume"
					accept="image/png, image/jpeg"> <span class="file-cta">
						<span class="file-icon"> <i class="fas fa-upload"></i>
					</span> <span class="file-label"> Chọn ảnh của bạn </span>
				</span>
				</label>
			</div>
		</div>
	</div>
	<div class='column is-4'>
		<p id="uploadPostUpfile1-demo"></p>
		<div class='column is-6'>
			<img id="uploadPostUpfile1-image" src="#" alt="your image" />
		</div>

	</div>
	
	<div class="column is-2">
		<div>Tải ảnh lên 2:</div>
		<div class="field">
			<div class="file is-small is-primary ">
				<label class="file-label"> <input id="uploadPostUpfile2"
					class="file-input fileupload" type="file" name="resume"
					accept="image/png, image/jpeg"> <span class="file-cta">
						<span class="file-icon"> <i class="fas fa-upload"></i>
					</span> <span class="file-label"> Chọn ảnh của bạn </span>
				</span>
				</label>
			</div>
		</div>
	</div>
	<div class='column is-4'>
		<p id="uploadPostUpfile2-demo"></p>
		<div class='column is-6'>
			<img id="uploadPostUpfile2-image" src="#" alt="your image" />
		</div>

	</div>
	</div>

</body>
<script type="text/javascript">
	var showReview = function(id) {
			var InputField = document.getElementById(id);
			InputField.addEventListener("change", function(InputField) {
				console.log('haha');
				getInfo(id);
				console.log('hihi');
			});
		
	};

	var getInfo = function readURL(inputID) {
		var input = document.getElementById(inputID);
		console.log(input);
		var txt = "";
		var reader = new FileReader();
		if ('files' in input) {
			if (input.files.length == 0) {
				txt = "Select one or more files.";
			} else {
				for (var i = 0; i < input.files.length; i++) {
					console.log(input.files[i]);
					txt += "<br><strong>" + (i + 1) + ". file</strong><br>";
					var file = input.files[i];
					if ('name' in file) {
						txt += "name: " + file.name + "<br>";
					}
					if ('size' in file) {
						txt += "size: " + file.size + " bytes <br>";
					}
					
					var imageConID = inputID + '-image';

					reader.onload = function(e) {
						var imageContainer = document.getElementById(imageConID);
						imageContainer.setAttribute('src', e.target.result);

					};
					reader.readAsDataURL(input.files[i]);
					
					
					var imgObj = document.getElementById(imageConID);
					var newImg = new Image();
				
					setTimeout(function(){
						newImg.setAttribute('src', imgObj.getAttribute('src'));
						 
						var height = newImg.height;
						var width = newImg.width;
		
						txt += "size: " + height + " x " + width + " <br>";
						document.getElementById(demoID).innerHTML = txt;
					}, 200);
					
				}
			}
		} else {
			if (x.value == "") {
				txt += "Select one or more files.";
			} else {
				txt += "The files property is not supported by your browser!";
				txt += "<br>The path of the selected file: " + input.value;
			}
		}
		var demoID= inputID  + '-demo';
		document.getElementById(demoID).innerHTML = txt;
	}

	document.addEventListener('DOMContentLoaded', function() {
		for(var i = 1; i <= 2; i++) {
			var id = "uploadPostUpfile" + i;
			showReview(id);
		}
		
		
	});
</script>
</html>